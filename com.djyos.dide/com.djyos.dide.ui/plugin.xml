<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.4"?>
<plugin>

 	<extension
         point="org.eclipse.ui.commands">
      <category
            name="Sample Category"
            id="Test.commands.category">
      </category>
      <command
            name="Sample Command"
            categoryId="Test.commands.category"
            id="Test.commands.sampleCommand">
      </command>
   </extension>
   <extension
         point="org.eclipse.ui.handlers">
      <handler
            commandId="Test.commands.sampleCommand"
            class="test.handlers.SampleHandler">
      </handler>
   </extension>
   
   <extension
         point="org.eclipse.ui.bindings">
      <key
            commandId="Test.commands.sampleCommand"
            contextId="org.eclipse.ui.contexts.window"
            sequence="M1+6"
            schemeId="org.eclipse.ui.defaultAcceleratorConfiguration">
      </key>
   </extension>
   
   <extension
         point="org.eclipse.ui.menus">
      <menuContribution
            locationURI="menu:org.eclipse.ui.main.menu?after=additions">
         <menu
               label="Sample Menu"
               mnemonic="M"
               id="Test.menus.sampleMenu">
            <command
                  commandId="Test.commands.sampleCommand"
                  mnemonic="S"
                  id="Test.menus.sampleCommand">
            </command>
         </menu>
      </menuContribution>
      <menuContribution
            locationURI="toolbar:org.eclipse.ui.main.toolbar?after=additions">
         <toolbar
               id="Test.toolbars.sampleToolbar">
            <command
                  commandId="Test.commands.sampleCommand"
                  icon="icons/sample.png"
                  tooltip="Say hello world"
                  id="Test.toolbars.sampleCommand">
            </command>
         </toolbar>
      </menuContribution>
   </extension>

	 <extension point="org.eclipse.ui.bindings">
		 <key
		        commandId="com.djyos.dide.ui.file.save"
		        sequence="M1+S"
		        schemeId="org.eclipse.ui.defaultAcceleratorConfiguration" />
	</extension>
	 <extension
	         point="org.eclipse.ui.commands">
	          <category
	            name="category.file.name"
	            description="category.file.description"
	            id="com.djyos.dide.ui.category.file" />
	            <command
	            name="command.save.name"
	            description="command.save.description"
	            defaultHandler="com.djyos.dide.ui.handlers.SaveFileHandler"
	            categoryId="com.djyos.dide.ui.category.file"
	            id="com.djyos.dide.ui.file.save"/>
	</extension>
	 <extension
	         point="org.eclipse.ui.propertyPages">
	  	   <page
	            class="com.djyos.dide.ui.djyproperties.DjyosGeneralPage"
	            id="com.djyos.dide.djyosGeneral.configurations"
	            name="%page.djyos.general">
	          <enabledWhen>
	            <or>
			     <adapt type="org.eclipse.core.resources.IProject"/>
			     
			     <instanceof value="org.eclipse.core.resources.IFolder"/>
			     <instanceof value="org.eclipse.cdt.core.model.ICContainer"/>
	
		         <instanceof value="org.eclipse.core.resources.IFile"/>
	         	 <instanceof value="org.eclipse.cdt.core.model.ITranslationUnit"/>
			    </or>          
	         </enabledWhen>
	      </page> 
	      
	       <page
	            name="Component Configure"
	            class="com.djyos.dide.ui.djyproperties.ComponentCfgPage"
	            category="com.djyos.dide.djyosGeneral.configurations"
	            id="com.djyos.dide.ui.peoject_ComponentConfiguration">
	         <enabledWhen>
			     <adapt type="org.eclipse.core.resources.IProject">
			          <test property="org.eclipse.core.resources.projectNature"
			                value="org.eclipse.cdt.core.cnature"/>
			     </adapt>         
	         </enabledWhen>
	      </page>
	</extension>
      
	<extension
         point="org.eclipse.ui.newWizards">
      <category
            name="C/C++"
            id="com.djyos.dide.ui.newDWizards">
      </category>
        <wizard
            canFinishEarly="false"
            category="com.djyos.dide.ui.newDWizards"
            class="com.djyos.dide.ui.wizards.cpu.CpuWizard"
            finalPerspective="org.eclipse.cdt.ui.CPerspective"
            hasPages="true"
            icon="icons/ovr16/cpu_img.gif"
            id="com.djyos.dide.ui.wizards.NewDWizard1"
            name="%Cpu.title"
            project="true">
        <description>
           %Cpu.desc
        </description>
     </wizard>
     
      <wizard
            canFinishEarly="false"
            category="com.djyos.dide.ui.newDWizards"
            class="com.djyos.dide.ui.wizards.board.BoardWizard"
            finalPerspective="org.eclipse.cdt.ui.CPerspective"
            hasPages="true"
            icon="icons/ovr16/board_img.gif"
            id="com.djyos.dide.ui.wizards.NewDWizard2"
            name = "%Board.title"
            project="true">
        <description>
            %Board.desc
        </description>
     </wizard>
      <wizard
            canFinishEarly="false"
            category="com.djyos.dide.ui.newDWizards"
            class="com.djyos.dide.ui.wizards.djyosProject.DjyosProjectWizard"
            finalPerspective="org.eclipse.cdt.ui.CPerspective"
            hasPages="true"
            icon="icons/ovr16/djyos_logo.gif"
            id="com.djyos.dide.ui.wizards.NewDWizard3"
            name="%DJYOSproject"
            project="true">
        <description>
            %DJYOSproject.desc
        </description>
     </wizard>
 	</extension>
 	
 	 <extension
       point="org.eclipse.ui.navigator.navigatorContent">
    	<navigatorContent
          activeByDefault="true"
          contentProvider="org.eclipse.cdt.internal.ui.navigator.CNavigatorContentProvider"
          icon="icons/view16/cview.gif"
          id="com.djyos.dide.ui.navigator.content"
          labelProvider="org.eclipse.cdt.internal.ui.navigator.CNavigatorLabelProvider"
          name="navigatorContent.name"
          priority="normal">
          <triggerPoints>
          	<or>
             <instanceof value="org.eclipse.cdt.core.model.ICElement"/>
             <instanceof value="org.eclipse.cdt.ui.CElementGrouping"/>
             <and>
	             <instanceof value="org.eclipse.core.resources.IResource"/>
	             <test property="org.eclipse.core.resources.projectNature"
	                   value="org.eclipse.cdt.core.cnature"/>
             </and>
             <instanceof value="org.eclipse.core.resources.IWorkspaceRoot"/>
          </or>
      	 </triggerPoints>
      	   <possibleChildren>
          <or>
             <instanceof value="org.eclipse.core.resources.IResource"/>
             <instanceof value="org.eclipse.cdt.core.model.ICElement"/>
             <instanceof value="org.eclipse.cdt.ui.CElementGrouping"/>
          </or>
       </possibleChildren>
        <commonWizard
	         associatedExtensionId="com.djyos.dide.ui.navigator.content"
	         menuGroupId="org.eclipse.cdt.ui.newProject"
	         type="new"
	         wizardId="com.djyos.dide.ui.wizards.NewDWizard1">
		 <enablement>
		 	<or>
	         	<with variable="activeWorkbenchWindow.activePerspective">
                    <equals
                          value="org.eclipse.cdt.ui.CPerspective">
                    </equals>
	         	</with>
	         	<instanceof value="org.eclipse.cdt.core.model.ICElement" />	
		        <and>
		            <instanceof value="org.eclipse.core.resources.IProject"/>
		            <test property="org.eclipse.core.resources.projectNature"
		                  value="org.eclipse.cdt.core.cnature"/>
		        </and>
         	</or>
         </enablement>
	   </commonWizard>
	       <commonWizard
	         associatedExtensionId="com.djyos.dide.ui.navigator.content"
	         menuGroupId="org.eclipse.cdt.ui.newProject"
	         type="new"
	         wizardId="com.djyos.dide.ui.wizards.NewDWizard2">
		 <enablement>
		 	<or>
	         	<with variable="activeWorkbenchWindow.activePerspective">
                    <equals
                          value="org.eclipse.cdt.ui.CPerspective">
                    </equals>
	         	</with>
	         	<instanceof value="org.eclipse.cdt.core.model.ICElement" />	
		        <and>
		            <instanceof value="org.eclipse.core.resources.IProject"/>
		            <test property="org.eclipse.core.resources.projectNature"
		                  value="org.eclipse.cdt.core.cnature"/>
		        </and>
         	</or>
         </enablement>
	   </commonWizard>
	       <commonWizard
	         associatedExtensionId="com.djyos.dide.ui.navigator.content"
	         menuGroupId="org.eclipse.cdt.ui.newProject"
	         type="new"
	         wizardId="com.djyos.dide.ui.wizards.NewDWizard3">
		 <enablement>
		 	<or>
	         	<with variable="activeWorkbenchWindow.activePerspective">
                    <equals
                          value="org.eclipse.cdt.ui.CPerspective">
                    </equals>
	         	</with>
	         	<instanceof value="org.eclipse.cdt.core.model.ICElement" />	
		        <and>
		            <instanceof value="org.eclipse.core.resources.IProject"/>
		            <test property="org.eclipse.core.resources.projectNature"
		                  value="org.eclipse.cdt.core.cnature"/>
		        </and>
         	</or>
         </enablement>
	   </commonWizard>
	    </navigatorContent>
	 </extension>   
	  <extension
	       point="org.eclipse.ui.startup">
	    <startup
	          class="com.djyos.dide.ui.startup.StartupHandler">
	    </startup>
	 </extension>
</plugin>
